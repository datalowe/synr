<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="synr">
<title>Using synr with real data: Coloured vowels • synr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Using synr with real data: Coloured vowels">
<meta property="og:description" content="synr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">synr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/dingemanse-data-example.html">Using synr with real data: Coloured vowels</a>
    <a class="dropdown-item" href="../articles/validate-data.html">Validating participant color response data</a>
    <a class="dropdown-item" href="../articles/quick-start.html">synr: Quick start</a>
    <a class="dropdown-item" href="../articles/synr-creategroup.html">Creating ParticipantGroup objects</a>
    <a class="dropdown-item" href="../articles/synr-tutorial.html">synr: Main tutorial</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/datalowe/synr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Using synr with real data: Coloured vowels</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/datalowe/synr/blob/HEAD/vignettes/articles/dingemanse-data-example.Rmd" class="external-link"><code>vignettes/articles/dingemanse-data-example.Rmd</code></a></small>
      <div class="d-none name"><code>dingemanse-data-example.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://datalowe.github.io/synr/">synr</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This is an example of how to use synr with actual data. For an
in-depth tutorial which explains how synr works, including the
functionality that comes up here, please see the <a href="synr-tutorial.html">main tutorial</a>.</p>
<p>The data used here are from a study by Cuskley, Dingemanse, van
Leeuwen &amp; Kirby (2019) and are available through <a href="https://github.com/mdingemanse/colouredvowels" class="external-link">this GitHub
repository</a>. Note that the user (mdingemanse) who owns the repository
is not involved in synr development, so please don’t send questions
about synr to him or other co-authors of the article.</p>
<p>The data are from an experiment where participants listened to 16
different recordings of spoken vowel sounds and responded with colors
they experienced/associated with the vowels. You can find much more
detail in the article and repository. In this tutorial, we’ll assume
that each of the recordings can be thought of as a single object,
analogous to a grapheme. <strong>Note</strong> that even though synr
always refers to trial stimuli as ‘graphemes’ or ‘symbols’ (in order to
make the documentation less abstract), you can apply synr to other types
of consistency test data. Just remember that ‘grapheme’ then really
means e. g. ‘vowel sound’ or whatever other type of stimuli are
presented to participants.</p>
</div>
<div class="section level2">
<h2 id="load-required-libraries">Load required libraries<a class="anchor" aria-label="anchor" href="#load-required-libraries"></a>
</h2>
<p>We’ll use <code>tidyr</code> to reformat the raw data, explained
below, and <code>ggplot2</code> for producing custom plots. You should
already have <code>ggplot2</code> installed since <code>synr</code>
depends on it, but may you need to run
<code>install.packages("tidyr")</code> to get <code>tidyr</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://datalowe.github.io/synr/">synr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="download-and-reformat-raw-data">Download and reformat raw data<a class="anchor" aria-label="anchor" href="#download-and-reformat-raw-data"></a>
</h2>
<p>We’ll first download the raw data from GitHub.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># download the 'coloured vowels' data</span></span>
<span><span class="va">githuburl</span> <span class="op">&lt;-</span> <span class="st">'https://raw.githubusercontent.com/mdingemanse/colouredvowels/master/BRM_colouredvowels_voweldata.csv'</span></span>
<span><span class="va">dingemanse_voweldata</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="va">githuburl</span>, sep<span class="op">=</span><span class="st">' '</span><span class="op">)</span></span></code></pre></div>
<p>The downloaded data are in a ‘one-row-per-stimulus’ (vocal sound)
format. synr needs the data to be in either ‘long’ or ‘wide’ format, as
described in the article <a href="synr-creategroup.html">Creating
ParticipantGroup objects</a>. Generally, ‘long’ format is preferred, so
let’s reformat the data to this.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 'pivot' the data into a long (one row per observation/trial) format,</span></span>
<span><span class="co"># using tidyr's pivot_longer function (and the 'pipe' %&gt;% operator)</span></span>
<span><span class="va">cvow_long</span> <span class="op">&lt;-</span> <span class="va">dingemanse_voweldata</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span></span>
<span>    cols<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'color1'</span>, <span class="st">'color2'</span>, <span class="st">'color3'</span>,</span>
<span>      <span class="st">'timing1'</span>, <span class="st">'timing2'</span>, <span class="st">'timing3'</span><span class="op">)</span>,</span>
<span>    names_to<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">".value"</span>, <span class="st">"trial"</span><span class="op">)</span>,</span>
<span>    names_pattern<span class="op">=</span><span class="st">"(\\w*)(\\d)"</span>,</span>
<span>    values_to<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'color'</span>, <span class="st">'timing'</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">cvow_long</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 6</span></span></span>
<span><span class="co">#&gt;   anonid                               setname  item trial color   timing</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 0045dbc0-8936-4c47-b8a2-333f29f3a505 set1       12 1     #A82816  <span style="text-decoration: underline;">18</span>689</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 0045dbc0-8936-4c47-b8a2-333f29f3a505 set1       12 2     #B2282B   <span style="text-decoration: underline;">6</span>599</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 0045dbc0-8936-4c47-b8a2-333f29f3a505 set1       12 3     #BB322B   <span style="text-decoration: underline;">5</span>893</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 0045dbc0-8936-4c47-b8a2-333f29f3a505 set1        9 1     #3C3899  <span style="text-decoration: underline;">12</span>561</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 0045dbc0-8936-4c47-b8a2-333f29f3a505 set1        9 2     #F44E50   <span style="text-decoration: underline;">4</span>046</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 0045dbc0-8936-4c47-b8a2-333f29f3a505 set1        9 3     #EE5A3D   <span style="text-decoration: underline;">7</span>648</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="roll-up-data-into-a-participantgroup-object">Roll up data into a ParticipantGroup object<a class="anchor" aria-label="anchor" href="#roll-up-data-into-a-participantgroup-object"></a>
</h2>
<p>Note that this might take a couple of minutes, since the data set is
quite large.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_participantgroup.html">create_participantgroup</a></span><span class="op">(</span></span>
<span>  raw_df<span class="op">=</span><span class="va">cvow_long</span>,</span>
<span>  n_trials_per_grapheme<span class="op">=</span><span class="fl">3</span>,</span>
<span>  id_col_name<span class="op">=</span><span class="st">"anonid"</span>,</span>
<span>  symbol_col_name<span class="op">=</span><span class="st">"item"</span>,</span>
<span>  color_col_name<span class="op">=</span><span class="st">"color"</span>,</span>
<span>  time_col_name<span class="op">=</span><span class="st">"timing"</span>,</span>
<span>  color_space_spec<span class="op">=</span><span class="st">"Luv"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>We use the L*u*v color space here, since that’s what the article’s
authors used.</p>
</div>
<div class="section level2">
<h2 id="apply-various-synr-functions">Apply various synr functions<a class="anchor" aria-label="anchor" href="#apply-various-synr-functions"></a>
</h2>
<div class="section level3">
<h3 id="single-participant-plot">Single participant plot<a class="anchor" aria-label="anchor" href="#single-participant-plot"></a>
</h3>
<p>Let’s produce a plot for the participant with ID
“0086e9c0-418c-404c-8f3c-219de93cc3dc” (the raw data use anonymized
ID’s, which is why they are rather unwieldy).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example_plot</span> <span class="op">&lt;-</span> <span class="va">pg</span><span class="op">$</span><span class="va">participants</span><span class="op">[[</span><span class="st">"0086e9c0-418c-404c-8f3c-219de93cc3dc"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="fu">get_plot</span><span class="op">(</span></span>
<span>  mean_line<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>  cutoff_line<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>  grapheme_size<span class="op">=</span><span class="fl">4</span></span>
<span><span class="op">)</span></span>
<span><span class="co"># inspect the plot</span></span>
<span><span class="va">example_plot</span></span></code></pre></div>
<p><img src="dingemanse-data-example_files/figure-html/example_plot-1.png" width="576"></p>
<p>Remember that the ‘grapheme’ axis here is really a ‘recording/vowel
sounds’ axis.</p>
<p>The participant appears to have provided valid responses with a fair
bit of variation. Their mean consistency score (green line) was slightly
above 200, far higher than the cutoff (blue line) of 135.30 that was
suggested in Rothen, Seth, Witzel &amp; Ward (2013) for the L*u*v color
space.</p>
<p>Of course, it’s not expected that most users will want to produce
plots for all participants and look through them one by one. It can
however be useful to look at a few of them to get a better feel for the
data, or to inspect data more closely if something about a participant’s
responses seems off.</p>
</div>
<div class="section level3">
<h3 id="mean-consistency-scores">Mean consistency scores<a class="anchor" aria-label="anchor" href="#mean-consistency-scores"></a>
</h3>
<p>Here, we force a mean consistency score to be calculated even where
participants have some (but not all) items with less than 3 valid color
responses by specifying na.rm=TRUE. We specify that consistency scores
should be calculated by using euclidean distances (synr uses euclidean
distances by default, but it’s specified here for extra clarity).</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mean_cons_scores</span> <span class="op">&lt;-</span> <span class="va">pg</span><span class="op">$</span><span class="fu">get_mean_consistency_scores</span><span class="op">(</span> </span>
<span>  method<span class="op">=</span><span class="st">'euclidean'</span>,</span>
<span>  na.rm<span class="op">=</span><span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>We’ll also put the consistency scores in a data frame where scores
are linked to their respective participant ID’s:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">participant_ids</span> <span class="op">&lt;-</span> <span class="va">pg</span><span class="op">$</span><span class="fu">get_ids</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">cons_score_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  participant_id<span class="op">=</span><span class="va">participant_ids</span>, </span>
<span>  mean_cons_score<span class="op">=</span><span class="va">mean_cons_scores</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">cons_score_df</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;                         participant_id mean_cons_score</span></span>
<span><span class="co">#&gt; 1 0045dbc0-8936-4c47-b8a2-333f29f3a505        85.22161</span></span>
<span><span class="co">#&gt; 2 005c48a4-acb7-4e25-8e4a-447e08a2dc85       225.60228</span></span>
<span><span class="co">#&gt; 3 0086e9c0-418c-404c-8f3c-219de93cc3dc       205.05324</span></span>
<span><span class="co">#&gt; 4 009f9049-bb4f-4dec-a889-2a408d9b7fc4        84.60556</span></span>
<span><span class="co">#&gt; 5 00ac0df1-ee81-4357-86c9-ce8691a6a4f1       171.22806</span></span>
<span><span class="co">#&gt; 6 0127d04d-0070-4bec-a004-2e658edac121       227.25244</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="number-of-graphemes-with-all-valid-responses">Number of graphemes with all-valid responses<a class="anchor" aria-label="anchor" href="#number-of-graphemes-with-all-valid-responses"></a>
</h3>
<p>Let’s add information for each participant about the number of
graphemes that they provided all-valid (3 non-NA, ie they correctly
chose a color) responses for.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">num_valid</span> <span class="op">&lt;-</span> <span class="va">pg</span><span class="op">$</span><span class="fu">get_numbers_all_colored_graphemes</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cons_score_df</span><span class="op">[[</span><span class="st">'num_allvalid_sounds'</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">num_valid</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">cons_score_df</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;                         participant_id mean_cons_score num_allvalid_sounds</span></span>
<span><span class="co">#&gt; 1 0045dbc0-8936-4c47-b8a2-333f29f3a505        85.22161                  16</span></span>
<span><span class="co">#&gt; 2 005c48a4-acb7-4e25-8e4a-447e08a2dc85       225.60228                  16</span></span>
<span><span class="co">#&gt; 3 0086e9c0-418c-404c-8f3c-219de93cc3dc       205.05324                  16</span></span>
<span><span class="co">#&gt; 4 009f9049-bb4f-4dec-a889-2a408d9b7fc4        84.60556                  16</span></span>
<span><span class="co">#&gt; 5 00ac0df1-ee81-4357-86c9-ce8691a6a4f1       171.22806                  16</span></span>
<span><span class="co">#&gt; 6 0127d04d-0070-4bec-a004-2e658edac121       227.25244                  16</span></span></code></pre></div>
<p>We might want to only include participants who had a minimum of 8
(50%) stimuli with all-valid responses, based on what the original
article says:</p>
<blockquote>
<p>A total of 34 participants were removed from the sample because they
chose “No color” for more than half of the items in the vowel
association task, making it impossible to calculate a valid vowel
consistency score.</p>
</blockquote>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">'number of participants before filtering:'</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">cons_score_df</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "number of participants before filtering: 1164"</span></span>
<span></span>
<span><span class="va">enough_responses_filter</span> <span class="op">&lt;-</span> <span class="va">cons_score_df</span><span class="op">$</span><span class="va">num_allvalid_sounds</span> <span class="op">&gt;=</span> <span class="fl">8</span></span>
<span><span class="va">cons_score_df</span> <span class="op">&lt;-</span> <span class="va">cons_score_df</span><span class="op">[</span><span class="va">enough_responses_filter</span>, <span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">'number of participants after filtering:'</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">cons_score_df</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "number of participants after filtering: 1105"</span></span></code></pre></div>
<p>It’s not clear why there are seemingly more participants which fit
the exclusion criteria in the data from GitHub compared to what is
reported in the original article. (if you notice an error in this
article, please write about it to <a href="mailto:datalowe@posteo.de" class="email">datalowe@posteo.de</a>)</p>
</div>
<div class="section level3">
<h3 id="validate-participant-data">Validate participant data<a class="anchor" aria-label="anchor" href="#validate-participant-data"></a>
</h3>
<p>synr includes a unique procedure for automatically classifying test
data as valid or invalid, as explained in a specific <a href="https://datalowe.github.io/synr/articles/validate-data.html">synr
article available online</a>. Cuskley et al.’s article itself doesn’t
mention any validation procedure apart from excluding participants with
too many “No color” responses, so we might try to apply very lenient
criteria in order to only catch obviously invalid data, such as
participants having used very similar colors (eg slightly different
shades of black) for more than 80% of all their responses. Please see
the <a href="https://datalowe.github.io/synr/articles/validate-data.html">validation
article online</a> for details about what’s happening here.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">validation_df</span> <span class="op">&lt;-</span> <span class="va">pg</span><span class="op">$</span><span class="fu">check_valid_get_twcv_scores</span><span class="op">(</span></span>
<span>  min_complete_graphemes <span class="op">=</span> <span class="fl">8</span>,</span>
<span>  dbscan_eps <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  dbscan_min_pts <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  max_var_tight_cluster <span class="op">=</span> <span class="fl">150</span>,</span>
<span>  max_prop_single_tight_cluster <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>  safe_num_clusters <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  safe_twcv <span class="op">=</span> <span class="fl">300</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># again, use filter to only keep data from participants with</span></span>
<span><span class="co"># &gt;=8 all-valid responses graphemes</span></span>
<span><span class="va">validation_df</span> <span class="op">&lt;-</span> <span class="va">validation_df</span><span class="op">[</span><span class="va">enough_responses_filter</span>, <span class="op">]</span></span>
<span></span>
<span><span class="va">cons_score_df</span><span class="op">[[</span><span class="st">'data_valid'</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">validation_df</span><span class="op">$</span><span class="va">valid</span></span>
<span><span class="va">cons_score_df</span><span class="op">[[</span><span class="st">'reason_invalid'</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">validation_df</span><span class="op">$</span><span class="va">reason_invalid</span></span>
<span></span>
<span><span class="co"># show only participants whose data were classified as invalid,</span></span>
<span><span class="co"># and only relevant columns</span></span>
<span><span class="va">cons_score_df</span><span class="op">[</span><span class="op">!</span><span class="va">cons_score_df</span><span class="op">$</span><span class="va">data_valid</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"participant_id"</span>, <span class="st">"mean_cons_score"</span>, <span class="st">"reason_invalid"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt;                            participant_id mean_cons_score        reason_invalid</span></span>
<span><span class="co">#&gt; 11   01e8370f-22a2-434a-b86b-ebfc65f28327     63.30219869 few_clusters_low_twcv</span></span>
<span><span class="co">#&gt; 26   06644552-815c-47ad-a1a4-d774ac61f1e8     38.09724961 hi_prop_tight_cluster</span></span>
<span><span class="co">#&gt; 37   0b40b649-8cd0-4252-bcad-04b607694eb9     36.04509901 hi_prop_tight_cluster</span></span>
<span><span class="co">#&gt; 100  1fcd6ef5-057d-4655-a314-17aee2cbac99     25.20097383 hi_prop_tight_cluster</span></span>
<span><span class="co">#&gt; 134  28f1a586-d2c5-4c44-ba33-60e59768847c     59.66737827 few_clusters_low_twcv</span></span>
<span><span class="co">#&gt; 288  58156a1e-2633-4435-b404-750ec370bd51     36.42790210 hi_prop_tight_cluster</span></span>
<span><span class="co">#&gt; 408  7ae98022-d5d8-460e-a1c3-68b43487e191     16.41104298 hi_prop_tight_cluster</span></span>
<span><span class="co">#&gt; 554  ad9219a1-9566-4654-ba28-ac277175a347     36.19079247 hi_prop_tight_cluster</span></span>
<span><span class="co">#&gt; 606  bc3ed730-ceed-44f0-97ac-8bf7fe1b8615     39.27415198 hi_prop_tight_cluster</span></span>
<span><span class="co">#&gt; 645  ca108b61-6b84-4e1e-ab31-4c111ff885a6     27.54943999 hi_prop_tight_cluster</span></span>
<span><span class="co">#&gt; 674  d47c0e32-e3e2-4acf-84d0-08bf7375308b     44.21594367 hi_prop_tight_cluster</span></span>
<span><span class="co">#&gt; 717  de916a2b-5041-4ecf-af86-4e11feaa5d4c      0.03445631 hi_prop_tight_cluster</span></span>
<span><span class="co">#&gt; 931  5b84fcd8-7982-46bd-9f13-1771a4f2b6df     44.28342864 hi_prop_tight_cluster</span></span>
<span><span class="co">#&gt; 935  660ed2f1-7631-4c97-a46e-f9481d37bc4b     56.10827516 hi_prop_tight_cluster</span></span>
<span><span class="co">#&gt; 992  e8dd5ab3-8d3d-4137-9fd4-3b6fdf42cb97     69.07712926 few_clusters_low_twcv</span></span>
<span><span class="co">#&gt; 1104 43dd077f-b955-4ba0-8ebb-a442a4ad913f     34.78898926 hi_prop_tight_cluster</span></span>
<span><span class="co">#&gt; 1154 2b20c245-5ca1-4a1e-9b71-daa17ef445e1     46.99291493 few_clusters_low_twcv</span></span></code></pre></div>
<p>All of the identified data sets that were classified by synr as
invalid appear to have 80% or more of all responses be in roughly the
same color. One of the participants,
‘de916a2b-5041-4ecf-af86-4e11feaa5d4c’, very clearly has invalid data
even based on just their consistency score (0.034), as it is extremely
low (due to having responded with black on all trials). What might be
more interesting is to take a closer look at the participant with the
highest consistency score (44.2), as their case might be somewhat less
clear-cut.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pg</span><span class="op">$</span><span class="va">participants</span><span class="op">[[</span><span class="st">"d47c0e32-e3e2-4acf-84d0-08bf7375308b"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="fu">get_plot</span><span class="op">(</span></span>
<span>  grapheme_size<span class="op">=</span><span class="fl">4</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="dingemanse-data-example_files/figure-html/potentially_invalid_data-1.png" width="576"></p>
<p>The participant has actually used what we might consider to be
different colors, ie hues. Note however that their consistency score
(44.2) means that they would be considered a synesthete, even though
there is actually very little consistency in what hues are used for the
different sounds, due to all colors being very light. For instance, the
participant used a ‘greyish’, a ‘brownish’ and a ‘bluish’ color for the
12th grapheme/sound, but even the consistency score for this particular
grapheme is well below the cutoff of 135.3. This means that even though
one could argue that responses have fairly different hues, <em>at least
in the context of consistency tests as they are currently commonly used
and evaluated</em>, synr is correct in classifying the participant’s
data as invalid, ie having too little color variation.</p>
<p>It appears then that if synr were to be used in this manner, some
misclassifications of participants as synesthetes could be
prevented.</p>
</div>
<div class="section level3">
<h3 id="use-synr-generated-data-with-other-libraries">Use synr-generated data with other libraries<a class="anchor" aria-label="anchor" href="#use-synr-generated-data-with-other-libraries"></a>
</h3>
<p>Once data have been exported to a data frame, they can be used with
other libraries as usual.</p>
<p>For example, we might be interested in the distribution of mean
consistency scores.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">cons_score_df</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">mean_cons_score</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>  </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_density.html" class="external-link">geom_density</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fl">135.3</span>, color<span class="op">=</span><span class="st">"blue"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x<span class="op">=</span><span class="st">'Mean consistency score'</span>, y<span class="op">=</span><span class="st">'Probability density'</span><span class="op">)</span></span></code></pre></div>
<p><img src="dingemanse-data-example_files/figure-html/cons_score_pdf-1.png" width="576"></p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">cons_score_df</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">mean_cons_score</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/stat_ecdf.html" class="external-link">stat_ecdf</a></span><span class="op">(</span>geom <span class="op">=</span> <span class="st">"step"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fl">135.3</span>, color<span class="op">=</span><span class="st">"blue"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x<span class="op">=</span><span class="st">'Mean consistency score'</span>, y<span class="op">=</span><span class="st">'Cumulative proportion of participants'</span><span class="op">)</span></span></code></pre></div>
<p><img src="dingemanse-data-example_files/figure-html/cons_score_ecdf-1.png" width="576"></p>
<p>It appears that about 30% of all participants scored below the
suggested cut-off of 135, as already reported by Cuskley et al.</p>
</div>
</div>
<div class="section level2">
<h2 id="summary">Summary<a class="anchor" aria-label="anchor" href="#summary"></a>
</h2>
<p>Much of the ‘results’ included here can already be found in the
article by Cuskley et al. However, this article has hopefully given you
an idea of how synr can be used with different types of data, and what
role it fulfills.</p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>Cuskley, C.1, Dingemanse, M.1, van Leeuwen, T. &amp; Kirby, S. 2019.
Cross-modal associations and synaesthesia: Categorical perception and
structure in vowel-colour mappings in a large online sample.
<em>Behaviour Research Methods</em>, doi: 10.3758/s13428-019-01203-7</p>
<p>Rothen, N., Seth, A. K., Witzel, C., &amp; Ward, J. (2013).
Diagnosing synaesthesia with online colour pickers: maximising
sensitivity and specificity. <em>Journal of neuroscience methods</em>,
215(1), 156-160.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Lowe Wilsson.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
